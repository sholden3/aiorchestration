<div class="orchestration-container">
  <div class="orchestration-header">
    <h2>AI Orchestration</h2>
    <p class="subtitle">Manage multi-agent workflows with three-persona governance</p>
  </div>

  <div class="orchestration-grid">
    <!-- Active Agents -->
    <mat-card class="agents-card">
      <mat-card-header>
        <mat-card-title>Active Agents</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="agent-list">
          <div *ngFor="let agent of agents" class="agent-item">
            <div class="agent-header">
              <div class="agent-info">
                <h3>{{ agent.name }}</h3>
                <span class="agent-type">{{ agent.type }}</span>
              </div>
              <mat-chip [color]="getAgentStatusColor(agent.status)" selected>
                {{ agent.status }}
              </mat-chip>
            </div>
            <div class="agent-stats">
              <div class="stat">
                <span class="stat-label">Tasks:</span>
                <span class="stat-value">{{ agent.tasksCompleted }}</span>
              </div>
              <div class="stat">
                <span class="stat-label">Success:</span>
                <span class="stat-value">{{ agent.successRate }}%</span>
              </div>
            </div>
            <div class="agent-task">
              <mat-icon>assignment</mat-icon>
              {{ agent.lastTask }}
            </div>
          </div>
        </div>
      </mat-card-content>
    </mat-card>

    <!-- Active Workflows -->
    <mat-card class="workflows-card">
      <mat-card-header>
        <mat-card-title>
          <span>Active Workflows</span>
          <button mat-raised-button color="primary" (click)="startWorkflow()">
            <mat-icon>add</mat-icon>
            New Workflow
          </button>
        </mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="workflow-list">
          <div *ngFor="let workflow of workflows" class="workflow-item">
            <div class="workflow-header">
              <h3>{{ workflow.name }}</h3>
              <mat-chip [color]="workflow.status === 'running' ? 'primary' : workflow.status === 'completed' ? 'accent' : 'warn'" selected>
                {{ workflow.status }}
              </mat-chip>
            </div>
            <div class="workflow-progress">
              <mat-progress-spinner
                *ngIf="workflow.status === 'running'"
                mode="determinate"
                [value]="workflow.progress"
                diameter="60">
              </mat-progress-spinner>
              <div class="progress-text">{{ workflow.progress }}%</div>
            </div>
            <div class="workflow-agents">
              <mat-icon>group</mat-icon>
              {{ workflow.agents.length }} agents
            </div>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
  </div>

  <!-- System Metrics -->
  <mat-card class="metrics-card">
    <mat-card-header>
      <mat-card-title>System Metrics</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <div class="metrics-grid">
        <div class="metric">
          <div class="metric-value">92%</div>
          <div class="metric-label">Cache Hit Rate</div>
        </div>
        <div class="metric">
          <div class="metric-value">68%</div>
          <div class="metric-label">Token Reduction</div>
        </div>
        <div class="metric">
          <div class="metric-value">423ms</div>
          <div class="metric-label">Avg Response Time</div>
        </div>
        <div class="metric">
          <div class="metric-value">1,247</div>
          <div class="metric-label">Tasks Today</div>
        </div>
      </div>
    </mat-card-content>
  </mat-card>
</div>
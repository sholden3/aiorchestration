@import '../../../styles/variables';
@import '../../../styles/mixins';

.templates-container {
  padding: $space-4;
  max-width: 1400px;
  margin: 0 auto;
  
  .header-card {
    margin-bottom: $space-6;
    background: linear-gradient(135deg, $color-primary 0%, darken($color-primary, 10%) 100%);
    color: white;
    
    mat-card-header {
      mat-card-title {
        display: flex;
        align-items: center;
        gap: $space-2;
        font-size: $font-size-xl;
        
        mat-icon {
          font-size: 32px;
          height: 32px;
          width: 32px;
        }
      }
      
      mat-card-subtitle {
        color: rgba(255, 255, 255, 0.9);
        font-size: $font-size-base;
      }
    }
  }
  
  .filters-section {
    display: flex;
    gap: $space-4;
    margin-bottom: $space-6;
    flex-wrap: wrap;
    
    .category-select {
      min-width: 200px;
    }
    
    .search-field {
      flex: 1;
      min-width: 300px;
    }
  }
  
  .loading-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: $space-8;
    
    p {
      margin-top: $space-4;
      color: $color-text-secondary;
    }
  }
  
  .templates-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
    gap: $space-4;
    margin-bottom: $space-6;
    
    .template-card {
      cursor: pointer;
      transition: all 0.3s ease;
      background: $color-surface;
      
      &:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      }
      
      &.selected {
        border: 2px solid $color-primary;
        background: rgba($color-primary, 0.05);
      }
      
      mat-card-header {
        mat-card-subtitle {
          display: flex;
          align-items: center;
          gap: $space-3;
          flex-wrap: wrap;
          
          .category-badge {
            background: rgba($color-primary, 0.1);
            color: $color-primary;
            padding: $space-1 $space-2;
            border-radius: $radius-sm;
            font-size: $font-size-sm;
            font-weight: $font-weight-medium;
          }
          
          .usage-count {
            display: flex;
            align-items: center;
            gap: $space-1;
            color: $color-text-secondary;
            font-size: $font-size-sm;
            
            mat-icon {
              font-size: 14px;
              height: 14px;
              width: 14px;
            }
          }
        }
      }
      
      mat-card-content {
        .description {
          color: $color-text-primary;
          margin-bottom: $space-3;
          line-height: 1.5;
        }
        
        .tags {
          display: flex;
          flex-wrap: wrap;
          gap: $space-2;
          margin-bottom: $space-3;
          
          .tag {
            background: $color-background;
            color: $color-text-secondary;
            padding: $space-1 $space-2;
            border-radius: $radius-full;
            font-size: $font-size-xs;
            border: 1px solid $color-border;
          }
        }
        
        .variables {
          display: flex;
          flex-wrap: wrap;
          gap: $space-2;
          align-items: center;
          
          strong {
            color: $color-text-secondary;
            font-size: $font-size-sm;
          }
          
          .variable {
            background: rgba($color-info, 0.1);
            color: $color-info;
            padding: 2px $space-2;
            border-radius: $radius-sm;
            font-family: $font-family-mono;
            font-size: $font-size-xs;
          }
        }
      }
      
      mat-card-actions {
        padding: $space-2 $space-3;
        display: flex;
        justify-content: space-between;
      }
    }
  }
  
  .no-results-card {
    text-align: center;
    padding: $space-8;
    
    mat-icon {
      font-size: 64px;
      height: 64px;
      width: 64px;
      color: $color-text-secondary;
      margin-bottom: $space-4;
    }
    
    h3 {
      color: $color-text-primary;
      margin-bottom: $space-2;
    }
    
    p {
      color: $color-text-secondary;
    }
  }
  
  .preview-card {
    position: sticky;
    top: $space-4;
    max-height: 80vh;
    overflow-y: auto;
    background: $color-surface;
    
    mat-card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid $color-border;
      padding-bottom: $space-3;
      margin-bottom: $space-4;
      
      mat-card-title {
        display: flex;
        align-items: center;
        gap: $space-2;
        margin: 0;
        
        mat-icon {
          color: $color-primary;
        }
      }
    }
    
    mat-card-content {
      .template-description {
        color: $color-text-secondary;
        margin-bottom: $space-4;
        font-size: $font-size-base;
      }
      
      .code-preview {
        background: $color-background;
        border: 1px solid $color-border;
        border-radius: $radius-sm;
        padding: $space-4;
        margin-bottom: $space-4;
        overflow-x: auto;
        
        pre {
          margin: 0;
          
          code {
            font-family: $font-family-mono;
            font-size: $font-size-sm;
            color: $color-text-primary;
            white-space: pre-wrap;
            word-break: break-word;
          }
        }
      }
      
      .template-metadata {
        display: flex;
        flex-direction: column;
        gap: $space-2;
        
        .metadata-item {
          display: flex;
          align-items: flex-start;
          gap: $space-2;
          
          strong {
            color: $color-text-secondary;
            min-width: 100px;
          }
          
          .variable {
            background: rgba($color-info, 0.1);
            color: $color-info;
            padding: 2px $space-2;
            border-radius: $radius-sm;
            font-family: $font-family-mono;
            font-size: $font-size-xs;
            margin-right: $space-1;
          }
        }
      }
    }
    
    mat-card-actions {
      display: flex;
      gap: $space-2;
      padding: $space-3;
      border-top: 1px solid $color-border;
    }
  }
}

# Hallucination Detection Patterns Configuration
# Version: 1.0
# Last Updated: 2025-01-28
# Author: Dr. Elena Vasquez
#
# This file defines patterns for detecting potential hallucinations
# in AI-generated content, documentation, and code comments.

version: "1.0"

# Phase 1.5b implementation notice
implementation_phase: "1.5b"
phase_notice: |
  Basic pattern-based detection for obvious hallucinations.
  Performance target: <500ms impact on git hooks.
  False positive target: <10% in development mode.

# Detection patterns by severity level
patterns:
  critical:
    # Patterns that indicate definite hallucinations
    - name: "fabricated_percentage"
      pattern: '\b(?:exactly\s+)?(\d{2}\.\d{1,2})%\s+of\s+(?:all\s+)?(?:users|developers|companies|organizations)'
      severity: ERROR
      confidence: 0.7
      suggestion: "Verify statistic with authoritative source and add citation"
      
    - name: "future_date_claim"
      pattern: '\b20[3-9]\d\s+(?:study|research|survey|report)'
      severity: CRITICAL
      confidence: 0.9
      suggestion: "Remove future date reference or clarify as projection"
      
    - name: "impossible_version"
      pattern: '(?:Python\s+[4-9]\.|Node\.js\s+v?[3-9]\d|React\s+[3-9]\d|Angular\s+[2-9]\d)'
      severity: ERROR
      confidence: 0.95
      suggestion: "Correct to actual version number"
      
    - name: "fake_research_citation"
      pattern: '(?:MIT|Stanford|Harvard)\s+study\s+from\s+\d{4}'
      severity: ERROR
      confidence: 0.6
      suggestion: "Provide actual study title and authors or remove"

  warning:
    # Patterns that might indicate hallucinations
    - name: "vague_attribution"
      pattern: '(?:studies\s+show|research\s+indicates|experts\s+say|scientists\s+believe)\s+that'
      severity: WARNING
      confidence: 0.4
      suggestion: "Replace with specific source: '[Author/Organization] found that...'"
      
    - name: "absolute_claim"
      pattern: '(?:always|never|guaranteed|definitely|certainly)\s+(?:will|works|fails|succeeds)'
      severity: WARNING
      confidence: 0.3
      suggestion: "Use qualified language: 'typically', 'usually', 'in most cases'"
      
    - name: "suspicious_performance"
      pattern: '\b\d{2,}x\s+(?:faster|slower|better|worse|improvement)'
      severity: WARNING
      confidence: 0.5
      suggestion: "Add benchmark data or qualify claim"
      
    - name: "marketing_language"
      pattern: '(?:revolutionary|game-changing|breakthrough|cutting-edge|state-of-the-art)'
      severity: WARNING
      confidence: 0.3
      suggestion: "Use objective technical description"

  info:
    # Patterns that should be reviewed but may be valid
    - name: "round_number"
      pattern: '\b(?:10|20|30|40|50|60|70|80|90|100)%\s+of'
      severity: INFO
      confidence: 0.2
      suggestion: "Consider if this is an estimate or exact figure"
      
    - name: "comparative_claim"
      pattern: '(?:more|less|better|worse)\s+than\s+(?:ever|before|previously)'
      severity: INFO
      confidence: 0.2
      suggestion: "Consider adding specific comparison point"
      
    - name: "trendy_term"
      pattern: '(?:AI-powered|ML-driven|blockchain-based|quantum|metaverse)'
      severity: INFO
      confidence: 0.1
      suggestion: "Ensure technical accuracy of terminology"

# File type specific settings
file_settings:
  markdown:
    enabled: true
    check_code_blocks: false
    severity_threshold: WARNING
    
  python:
    enabled: true
    check_docstrings: true
    check_comments: true
    severity_threshold: ERROR
    
  typescript:
    enabled: true
    check_comments: true
    severity_threshold: ERROR
    
  json:
    enabled: false  # Don't check data files
    
  yaml:
    enabled: false  # Don't check config files

# Performance settings
performance:
  max_file_size_kb: 500
  max_lines_to_check: 1000
  timeout_ms: 500
  cache_results: true

# False positive mitigation
exemptions:
  # Paths to skip
  skip_paths:
    - "node_modules/"
    - "__pycache__/"
    - ".git/"
    - "dist/"
    - "build/"
    - "coverage/"
    
  # Files that may contain example hallucinations
  example_files:
    - "**/test_hallucination*.py"
    - "**/hallucination_examples.md"
    - "**/test_fixtures/*"

# Reporting settings
reporting:
  include_suggestions: true
  max_findings_per_file: 20
  group_by_pattern: true
  include_confidence_scores: true
  
# Integration settings
integration:
  pre_commit_hook:
    enabled: true
    block_on_critical: true
    block_on_error: false
    warn_on_warning: true
    
  ci_pipeline:
    enabled: false  # Phase 2.5
    fail_on_critical: true
    
  ide_plugin:
    enabled: false  # Future phase
    real_time_checking: false

# Metrics tracking
metrics:
  track_false_positives: true
  track_detection_time: true
  track_pattern_effectiveness: true
  report_to: ".governance/metrics/hallucination_detection.json"

# Notes for developers
notes: |
  This is Phase 1.5b basic implementation.
  Patterns are intentionally simple for performance.
  
  To test:
    python governance/validators/basic_hallucination_detector.py <file>
  
  To adjust sensitivity:
    Modify confidence scores (0.0-1.0)
    Higher = more confident it's a hallucination
  
  Report false positives to Dr. Elena Vasquez for pattern refinement.
{
  "$schema": "https://governance.ai/schemas/rules/git/v1.0.0",
  "version": "1.0.0",
  "last_updated": "2025-01-28T21:00:00Z",
  "description": "Git commit message and workflow standards",
  
  "commit_message_format": {
    "conventional_commits": {
      "enabled": true,
      "types": [
        {"type": "feat", "description": "New feature"},
        {"type": "fix", "description": "Bug fix"},
        {"type": "docs", "description": "Documentation only"},
        {"type": "style", "description": "Code style changes"},
        {"type": "refactor", "description": "Code refactoring"},
        {"type": "test", "description": "Test additions/changes"},
        {"type": "chore", "description": "Maintenance tasks"},
        {"type": "perf", "description": "Performance improvements"},
        {"type": "ci", "description": "CI/CD changes"},
        {"type": "build", "description": "Build system changes"}
      ],
      "scope_required": false,
      "scope_format": "({scope})"
    },
    
    "header": {
      "max_length": 72,
      "format": "{type}{scope}: {subject}",
      "requirements": [
        "Present tense",
        "No period at end",
        "Capitalize first letter"
      ]
    },
    
    "body": {
      "required_for": ["feat", "fix", "refactor"],
      "max_line_length": 100,
      "must_explain": [
        "Why the change was made",
        "What problem it solves",
        "Any breaking changes"
      ],
      "wrap_at": 72
    },
    
    "footer": {
      "issue_reference": {
        "format": "Fixes #{issue_number}",
        "required_for": ["fix"]
      },
      "breaking_changes": {
        "format": "BREAKING CHANGE: {description}",
        "required": true
      },
      "co_authors": {
        "format": "Co-authored-by: {name} <{email}>",
        "auto_add_personas": true
      }
    }
  },
  
  "branch_naming": {
    "format": "{type}/{issue-number}-{description}",
    "examples": [
      "feat/123-add-authentication",
      "fix/456-memory-leak",
      "docs/789-api-documentation"
    ],
    "prohibited_names": ["master", "main", "develop"],
    "max_length": 50
  },
  
  "pull_request_standards": {
    "title_format": "{type}: {description} (#{issue})",
    "template_required": true,
    "must_include": [
      "## Summary",
      "## Changes",
      "## Testing",
      "## Screenshots (if UI)",
      "## Breaking Changes",
      "## Checklist"
    ],
    "review_requirements": {
      "min_reviewers": 2,
      "require_alex": true,
      "require_sarah": true,
      "specialist_for_domain": true
    }
  },
  
  "commit_frequency": {
    "max_changes_per_commit": 10,
    "logical_grouping": true,
    "atomic_commits": true,
    "squash_before_merge": false
  },
  
  "prohibited_patterns": {
    "commit_messages": [
      "wip",
      "fix",
      "update",
      "change",
      "temp",
      "test"
    ],
    "files": [
      ".env",
      "*.key",
      "*.pem",
      "credentials.json"
    ]
  },
  
  "enforcement": {
    "invalid_commit_format": {
      "level": "error",
      "blocks_commit": true,
      "message": "Commit message must follow conventional format"
    },
    "missing_issue_reference": {
      "level": "warning",
      "for_types": ["fix", "feat"]
    },
    "oversized_commit": {
      "level": "warning",
      "threshold_files": 20,
      "message": "Consider breaking into smaller commits"
    },
    "missing_tests": {
      "level": "error",
      "for_types": ["feat", "fix"],
      "message": "Features and fixes require tests"
    }
  }
}